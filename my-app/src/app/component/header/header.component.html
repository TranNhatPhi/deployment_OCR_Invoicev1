<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark ">
        <div class="container">
            <a class="navbar-brand" href="#">
                <svg viewBox="0 0 100 10" width="40" height="50">
                    <circle cx="50" су="50" r="45" stroke="rgb(127, 68, 255)" stroke-width="5"
                        fill="rgba(128, 0, 255)" />
                </svg>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link"
                           [ngClass]="{ 'active': activeNavItem === 0 }"
                           (click)="setActiveNavItem(0)"
                           aria-current="page" routerLink="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"
                           [ngClass]="{ 'active': activeNavItem === 1 }"
                           (click)="setActiveNavItem(1)"
                           routerLink="/order-confirm">order-detail</a>
                    </li>
                  <li class="nav-item">
                    <a class="nav-link"
                       [ngClass]="{ 'active': activeNavItem === 2 }"
                       (click)="setActiveNavItem(2)"
                       routerLink="/orders">
                      <i class="fas fa-shopping-cart icon"></i>
                      Giỏ hàng
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link"
                       [ngClass]="{ 'active': activeNavItem === 2 }"
                       (click)="setActiveNavItem(3)"
                       routerLink="/ocr">
                      <i class="fa-solid fa-file-pdf"></i>
                      OCR
                    </a>
                  </li>
                </ul>
                <ul class="navbar-nav" style="margin-left: auto;">
                    <li class="nav-item">
                        <a class="nav-link"
                           [ngClass]="{ 'active': activeNavItem === 3 }"
                           (click)="setActiveNavItem(4)"
                           routerLink="/contact">Contact</a>
                    </li>
                  <li class="nav-item">
                    <a class="nav-link"
                       [ngClass]="{ 'active': activeNavItem === 4 }"
                       (click)="setActiveNavItem(5)"
                       routerLink="/aigemini">hỏi đáp</a>
                  </li>
                  <li class="nav-item" style="  background: linear-gradient(to top right, #4568dc, #b06ab3);">
                    <ng-container *ngIf="userResponse">
                      <ng-container
                        ngbPopover="Tài khoản của tôi,Đơn mua,Đăng xuất"
                        popoverTitle="User Actions"
                        triggers="click"
                        [placement]="'bottom'">
                        <a class="nav-link"
                          [ngbPopover]="popoverContent"
                          (click)="togglePopover($event)"
                        >
                          {{ userResponse.fullname }}
                        </a>
                        <ng-template #popoverContent>
                          <div class="popover-list">
                            <a class="popover-item"
                               (click)="handleItemClick(0)">Tài khoản của tôi</a>
                            <a class="popover-item"
                               (click)="handleItemClick(1)">Đơn mua</a>
                            <a class="popover-item"
                               (click)="handleItemClick(2)">Đăng xuất</a>
                          </div>
                        </ng-template>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="!userResponse">
                      <a class="nav-link active" (click)="openformlogin()"
                         href="javascript:">Đăng nhập</a>
                    </ng-container>
                  </li>
                    <!--<li class="nav-item">
                        <a class="nav-link active" aria-current="page" (click)="openformlogin()"
                            href="javascript:;">Login</a>
                    </li>-->
                 <!-- <ng-template #loggedInTemplate>
                    <ul class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img [src]="currentUser?.avatarUrl" alt="Avatar" class="avatar">
                        {{ currentUser?.name }}
                      </a>
                      <li>
                      <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#" (click)="logout()">Đăng xuất</a>
                      </div>
                      </li>
                    </ul>
                  </ng-template>-->

                </ul>
            </div>
        </div>
    </nav>
</header>
